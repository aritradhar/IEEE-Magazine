
\section*{}

Trusted Computing Base (TCB) minimization is one of the most fundamental computer security principles. The main idea is to reduce the amount of software, and hardware, that needs to be trusted for the security operation of a particular application. A common technique to achieve TCB minimization is to run the application inside a Trusted Execution Environment (TEE). The TEE guarantees the secure execution of the application despite other potentially compromised software, like the privileged OS, on the same platform, as long as the TEE itself is not exploitable. 

TEEs can be implemented in several ways. One approach that has gained significant popularity recently is to realize the TEE by enhancing the main CPU of the computing platform with new features like special instructions and access control checks. Intel’s SGX~\cite{sgxexplained}, designed for the x86 architecture, is a prime example of such TEE. In the SGX architecture, the CPU ensures that no other process can access the memory of the protected application that is called enclave. 

Enclaves are a powerful security primitive. First of all, they are programmable, and thus developers can implement almost arbitrary hardware-protected security services using them. This property is in contrast to previous secure elements like TPMs that support fixed set of security operations. Additionally, enclaves are fast, as they run on the main CPU of the computing platform, compared to significantly slower security elements like smart cards. And furthermore, enclaves are cheap, since they require no additional hardware in contrast to expensive separate co-processors like HSMs. 

This combination of programmability, high performance and low cost makes enclaves an attractive way to deploy various hardware-assisted security services. Indeed, after a decade of research and development into secure enclaves, the first large-scale commercial deployments are now starting. For example the Microsoft’s Confidential Computing service uses SGX enclaves to protect customer data and computation in outsourced cloud~\cite{russinovich2017introducing}.

The wide adoption of enclave architectures in general-purpose CPUs is probably the most prominent trend in hardware-assisted security over the last decade. However, there is also another, more subtle, trend appearing. Recently, computing service providers like Google and computer manufacturers like Apple have started to enhance their systems with special-purpose security chips. Google’s cloud servers have a dedicated security chip called Titan, while Apple’s latest laptops come with T2 Security Chip. At first glance, these two trends seem almost contradictory. If enclaves enable arbitrary hardware-protected security applications, why do we still need dedicated security chips in modern computing platforms? 

In this article we discuss the rationale behind this emerging trend. We also explain the benefits that dedicated security chips can offer and describe two of our recent research projects where we designed dedicated hardware security tokens. These projects showcase an interesting new pattern -- one where special-purpose security chips assist enclaves in their operation and improve their security. 
